---
title: "Ejercicio 1 resuelto"
output: html_notebook
---

Mediante el dataset **`diamonds`** del paquete **ggplot2** se realizarán las siguientes gráficas y transformaciones:

* (Gráficos básicos R) - Hacer un gráfico de barras con la cantidad de diamantes que hay para cada valor de la variable **cut**.
* (Ggplot2) - Realiza un histograma del **precio** que muestre la frecuencia acumulada de la variable **cut**.
* (Ggplot2) - Realiza un diagrama boxplot sobre el **precio** en función de la variable **cut**, obtén un diagrama diferente por cada variable **clarity**
* (Gráficos básicos de R) - Realiza una gráfica múltiple de 4 visualizaciones, en donde para cada visualización se realice un diagrama de dispersión en el que se tomen los valores: **x**, **y**, **z** y **carat** contra **depth**.
* (Ggplot2) - Realiza un diagrama de dispersión con recta de ajuste del **price** sobre **carat**.
* (Plotly) - Toma una muestra de 100 observaciones y, realiza un diagrama de barras de la variable **cut** contra **price**, en función de **clarity**
* (Plotly) - Realiza un diagrama de sectores de la variable **cut** con los valores de **carat**

## SOLUCIÓN

```{r}
library(ggplot2)
library(plotly)
```

```{r}
head(diamonds)
```
```{r}
str(diamonds)
```
```{r}
summary(diamonds)
```
* (Gráficos básicos R) - Hacer un gráfico de barras con la cantidad de diamantes que hay para cada valor de la variable **cut**.
```{r}
plot(diamonds$cut,
     ylab = "Valores",
     xlab = "Tipo de diamante",
     main = "Corte del diamante",
     col = topo.colors(length(unique(diamonds$cut)))
     )
```
* (Ggplot2) - Realiza un histograma del **precio** que muestre la frecuencia acumulada de la variable **cut**.
```{r}
ggplot(diamonds) + 
  geom_histogram(mapping = aes(price, fill=cut))
```
* (Ggplot2) - Realiza un diagrama boxplot sobre el **precio** en función de la variable **cut**, obtén un diagrama diferente por cada variable **clarity**
```{r}
ggplot(diamonds) + geom_boxplot(mapping = aes(price, fill=cut)) + facet_wrap(~clarity)
```
* (Gráficos básicos de R) - Realiza una gráfica múltiple de 4 visualizaciones, en donde para cada visualización se realice un diagrama de dispersión en el que se tomen los valores: **x**, **y**, **z** y **carat** contra **depth**.
```{r}
par(mfrow = c(2,2))

#Fila 1, columna 1
plot(diamonds$x, diamonds$depth,
     xlab = "Variable X",
     ylab = "Depth",
     main = "X~Depth",
     col ="lightgreen"
     )

#Fila 2, columna 1
plot(diamonds$y, diamonds$depth,
     xlab = "Variable Y",
     ylab = "Depth",
     main = "Y~Depth",
     col ="darkred"
     )
#Fila 1, columna 2
plot(diamonds$z, diamonds$depth,
     xlab = "Variable Z",
     ylab = "Depth",
     main = "Z~Depth",
     col ="lightblue"
     )
#Fila 2, columna 2
plot(diamonds$carat, diamonds$depth,
     xlab = "Variable Quilates",
     ylab = "Depth",
     main = "Quilates~Depth",
     col ="tan1"
     )
```
* (Ggplot2) - Realiza un diagrama de dispersión con recta de ajuste del **price** sobre **carat**.
```{r}
ggplot(diamonds) + 
  geom_point(mapping = aes(price, carat), color="lightgreen") + geom_smooth(aes(price,carat), method = lm)
```
* (Plotly) - Toma una muestra de 100 observaciones y, realiza un diagrama de barras de la variable **cut** contra **price**, en función de **clarity**

```{r}
library(dplyr)

fig.bar <- plot_ly(
  data = sample_n(diamonds,100),
  x = ~cut,
  y = ~price,
  type = "bar",
  color = ~clarity
)
fig.bar
```
* (Plotly) - Realiza un diagrama de sectores de la variable **cut** con los valores de **carat**
```{r}
fig.sec <- plot_ly(
  data = diamonds,
  labels = ~cut,
  values = ~carat,
  type = "pie"
)

fig.sec
```



